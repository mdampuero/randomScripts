var PhoneInput=(function($){return{init:function(selector,initialCountry){var parentEl=$(selector);parentEl.find('input:last').prop('type','hidden').removeClass('form-control');parentEl.find('input:first').prop('type','text').addClass('form-control');var telInput=parentEl.find('.form-control');var hiddenInput=parentEl.find('.full-phone');var countryInput=$('.tel-input-synch-country');var form=parentEl.closest('form');telInput.intlTelInput({initialCountry:initialCountry,});parentEl.on('click','.iti__country-list li',function(){hiddenInput.val(telInput.intlTelInput('getNumber'));hiddenInput.trigger('change')});telInput.change(function(){var countryCode=telInput.intlTelInput("getSelectedCountryData").iso2;if(countryCode){countryInput.val(countryCode.toUpperCase())}});telInput.on('keyup',function(e){var current=telInput.intlTelInput('getNumber');if(current.length>5&&$.inArray(e.keyCode,[32,69,88,190])===-1&&telInput.intlTelInput('isValidNumber')){var ext=telInput.intlTelInput('getExtension');if(ext){current+=' ext. '+ext}
telInput.intlTelInput("setNumber",current)}
hiddenInput.val(current);if($(this).closest('.has-error').length){hiddenInput.trigger('change')}});telInput.on('blur',function(){hiddenInput.trigger('change')});form.on('submit',function(){if(telInput.val().length&&!hiddenInput.val().length){hiddenInput.val(telInput.intlTelInput('getNumber'))}});hiddenInput.on('change',function(){hiddenInput.removeClass('previously-validated')})},isPhoneValid:function(){if($.trim(telInput.val())){return telInput.intlTelInput('isValidNumber')}}}})(jQuery)